# Epic 2: 상수 및 데이터 구조 정리

## Epic Goal
레거시 코드의 하드코딩된 값들을 체계적인 상수 구조로 변환하여 유지보수성 향상

## Epic Description

### 현재 문제점
- 하드코딩된 상품 정보 (PRODUCT_ONE, p2, product_3, p4, PRODUCT_5)
- 일관되지 않은 네이밍 컨벤션
- 할인율과 포인트 규칙이 코드 곳곳에 분산
- 매직 넘버와 문자열 남용

### 목표
- 모든 상수를 constants/ 디렉토리로 중앙화
- 일관된 네이밍 규칙 적용
- 타입 안전성 확보
- 설정 변경 용이성 확보

### 비즈니스 가치
- 상품 정보 변경 시 한 곳에서만 수정
- 할인 정책 변경의 영향 범위 최소화
- 비개발자도 이해하기 쉬운 설정 구조

## User Stories

### Story 2.1: 상품 정보 상수화
**As a** 개발자  
**I want** 상품 정보가 체계적으로 구조화된 상수  
**So that** 상품 추가/변경 시 일관된 방식으로 관리할 수 있다

**Acceptance Criteria:**
- [ ] Products.js에 모든 상품 정보 중앙화
- [ ] 상품 ID, 이름, 가격, 재고, 할인율 포함
- [ ] TypeScript 인터페이스로 타입 정의
- [ ] 기존 PRODUCT_ONE → PRODUCTS.KEYBOARD 등으로 리팩터링
- [ ] 674개 테스트 모두 통과

### Story 2.2: 할인 정책 상수화
**As a** 비즈니스 관리자  
**I want** 할인 정책이 명확하게 정의된 설정 파일  
**So that** 할인율 변경 시 코드 수정 없이 설정만 변경할 수 있다

**Acceptance Criteria:**
- [ ] DiscountRates.js에 모든 할인 정책 정의
- [ ] 개별 상품 할인율 (10개 이상 시)
- [ ] 전체 수량 할인 (30개 이상 25%)
- [ ] 화요일 할인, 번개세일, 추천할인 설정
- [ ] 할인 중복 적용 규칙 명시

### Story 2.3: 포인트 정책 및 UI 상수화
**As a** 개발자  
**I want** 포인트 적립 규칙과 UI 관련 상수가 분리된 구조  
**So that** 정책 변경과 UI 변경을 독립적으로 관리할 수 있다

**Acceptance Criteria:**
- [ ] PointsRules.js에 포인트 적립 정책 정의
- [ ] UIConstants.js에 메시지, 라벨, 스타일 클래스 정의
- [ ] EventTimings.js에 번개세일, 추천할인 타이밍 설정
- [ ] 모든 매직넘버 제거 (0.1%, 50p, 100p 등)

## Definition of Done
- [ ] 모든 하드코딩 값이 상수로 변환
- [ ] constants/ 디렉토리 구조 완성
- [ ] TypeScript 타입 정의 완료
- [ ] 674개 테스트 모두 통과
- [ ] 상수 사용 가이드라인 문서화

## Dependencies
- Epic 1 완료 (프로젝트 구조 설정)
- 기존 테스트 케이스 분석

## Risks & Mitigation
- **위험**: 상수 변경 시 기존 로직 동작 변화
- **완화**: 단계별 리팩터링 후 즉시 테스트 검증

## Success Metrics
- 하드코딩 값 제거율: 100%
- 상수 재사용률: 90% 이상
- 테스트 통과율: 100% 유지
- 상수 구조 완성도: 100%
